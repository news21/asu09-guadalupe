package {	import flash.display.Sprite;		import flash.system.Security;	import flash.net.URLRequest;	import flash.display.Loader;	import flash.events.Event;	import flash.events.ProgressEvent;	import flash.media.SoundMixer;		public class VimeoPlayer extends Sprite	{				public var player_width:int=496;		public var player_height:int=279;		public var clip_id:int = 3257040;		public var v_loader:Loader;				public function VimeoPlayer()		{		}				public function startLoad(cid:int=3257040):void		{			clip_id = cid;			Security.allowDomain("bitcast.vimeo.com");				v_loader = new Loader();			var v_request = new URLRequest("http://bitcast.vimeo.com/vimeo/swf/moogaloop.swf?clip_id=" + clip_id + "&server=vimeo.com" + "&width=" + player_width + "&height=" + player_height + "&show_title=0&show_byline=0&show_portrait=0&color=ffffff&fullscreen=1");			v_loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onCompleteHandler);			v_loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, onProgressHandler);			v_loader.load(v_request);		}				public function unloadVimeo(e:Event=null):void		{			trace('unload vimeo has been called');			v_loader.unload();			SoundMixer.stopAll();			v_loader.contentLoaderInfo.removeEventListener(Event.UNLOAD, onLoaderUnload);			v_loader = null;		}				public function onLoaderUnload(e:Event):void		{		   trace('LOADER WAS SUCCESSFULLY UNLOADED.');		}				public function onCompleteHandler(e:Event):void		{			// Position the player where you want it			v_loader.x=0;			v_loader.y=0;			v_loader.contentLoaderInfo.addEventListener(Event.UNLOAD, onLoaderUnload, false, 0, true);						// Create the mask for moogaloop			var v_mask:Sprite = new Sprite();			with( v_mask.graphics ) {				beginFill(0x000000, 1);				drawRect(v_loader.x, v_loader.y, player_width, player_height);				endFill();			}						addChild(v_mask);			v_loader.mask = v_mask;						addChild(v_loader);		}				public function onProgressHandler(e:ProgressEvent):void		{			var percent:Number = e.bytesLoaded / e.bytesTotal;			trace(percent);		}			}}